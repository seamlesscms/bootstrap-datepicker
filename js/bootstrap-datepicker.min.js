!function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var t=new Date;return e(t.getFullYear(),t.getMonth(),t.getDate())}function s(e,i){var a,s=t(e).data(),n={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var o in s)i.test(o)&&(a=o.replace(r,function(t,e){return e.toLowerCase()}),n[a]=s[o]);return n}function n(e){var i={};if(p[e]||(e=e.split("-")[0],p[e])){var a=p[e];return t.each(t.fn.datepicker.locale_opts,function(t,e){e in a&&(i[e]=a[e])}),i}}function r(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function o(t,e,i){return e<t.length?t:Array(e-t.length+1).join(i||" ")+t}function h(t,e,i,a,s,n,r){return e&&i?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><ul><li class="'+(n?"collapse in":"")+(r?" active":"")+'">'+'<div class="datepicker">'+k.template+"</div>"+"</li>"+'<li class="picker-switch accordion-toggle"><a><i class="'+t+'"></i></a></li>'+"<li"+(n?' class="collapse"':"")+">"+'<div class="timepicker">'+y.getTemplate(a,s)+"</div>"+"</li>"+"</ul>"+"</div>":i?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker '+(r?" active":"")+'">'+y.getTemplate(a,s)+"</div>"+"</div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker '+(r?" active":"")+'">'+k.template+"</div>"+"</div>"}var d=function(e,i){return this.element=t(e),this._process_options(i),this.o.pickDate||this.o.pickTime?(this.picker=t(h(this.o.timeIcon,this.o.pickDate,this.o.pickTime,this.o.pick12HourFormat,this.o.pickSeconds,this.o.collapse,this.o.keyboardNavigation)).appendTo("body"),this.o.pickTime&&this.o.keyboardNavigation&&this.picker.find(".timepicker-picker [data-time-component]:eq(0)").addClass("focused"),this._buildEvents(),this._attachEvents(),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today, tfoot th.clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this.fillHours(),this.fillMinutes(),this.fillSeconds(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show(),void 0):!1};d.prototype={constructor:d,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o);this.isInline=!1,this.isInput=this.element.is("input"),this.component=!1,(this.element.find(".input-append")||this.element.find(".input-prepend"))&&(this.component=this.element.find(".add-on")),this.hasInput=this.component&&this.element.find("input").length,this.o.format||(this.o.format=this.isInput?this.element.data("format"):this.element.find("input").data("format"),this.o.format||(this.o.format="MM/dd/yyyy")),this._compileFormat(),this.component&&0===this.component.length&&(this.component=!1);var a;this.component&&(a=this.component.find("i")),this.o.pickTime&&(a&&a.length&&(this.o.timeIcon=a.data("time-icon")),this.timeIcon||(this.o.timeIcon="icon-time"),a&&a.addClass(this.o.timeIcon)),this.o.pickDate&&(a&&a.length&&(this.o.dateIcon=a.data("date-icon")),this.dateIcon||(this.o.dateIcon="icon-calendar"),a&&a.removeClass(this.o.timeIcon),a&&a.addClass(this.o.dateIcon));var s=i.language;switch(p[s]||(s=s.split("-")[0],p[s]||(s=t.fn.datepicker.defaults.language)),i.language=s,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7,i.startDate!==-1/0&&(i.startDate=this.parseDate(i.startDate)),1/0!==i.endDate&&(i.endDate=this.parseDate(i.endDate)),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,a=0;a<t.length;a++)e=t[a][0],i=t[a][1],e.on(i)},_unapplyEvents:function(t){for(var e,i,a=0;a<t.length;a++)e=t[a][0],i=t[a][1],e.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(function(){this.update(),this.show()},this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(function(){this.update(),this.show(),this.element.toggleClass("active")},this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this),blur:t.proxy(function(){this.element.toggleClass("active")},this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}],[this.picker.find(".accordion-toggle"),{"click.togglePicker":t.proxy(this.togglePicker,this)}],[this.picker.find("[data-action]"),{click:t.proxy(this.doAction,this)}]],this._passiveEvents=[[this.isInput?this.element:this.element.find("input"),{blur:t.proxy(function(){""!==(this.isInput?this.element:this.element.find("input")).val()&&this.setValue()},this)}]]},togglePicker:function(t){if(t.stopPropagation(),this.o.collapse){var e=this.picker.find(".collapse.in"),i=this.picker.find(".collapse:not(.in)");if(e&&e.length){var a=e.data("collapse");if(a&&a.transitioning)return;e.collapse("hide"),i.collapse("show"),this.element.find("> .add-on > i").toggleClass(this.o.timeIcon+" "+this.o.dateIcon)}}this.o.keyboardNavigation&&this.picker.find("> ul > li:not(.picker-switch)").toggleClass("active")},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_attachPassiveEvents:function(){this._detachPassiveEvents(),this._applyEvents(this._passiveEvents)},_detachPassiveEvents:function(){this._unapplyEvents(this._passiveEvents)},_trigger:function(e,i){var a=i||this.date,s=new Date;a&&(s=new Date(a.getTime()+6e4*a.getTimezoneOffset())),this.element.trigger({type:e,date:s,format:t.proxy(function(t){var e=t||this.o.format;return this.formatDate(a,this.o.language,e)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.updateNavArrows(),this.picker.show(),this.o.pickTime&&this.actions.showPicker.call(this),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this._attachPassiveEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this._detachPassiveEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),this.formatDate(this.date,this.o.language,t)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,i=this.component?this.component.parent().offset():this.element.offset(),a=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:i.top+a,left:i.left,zIndex:e})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=this.parseDate(t)||this.date,this.date||(this.date=a()),e&&this.setValue(),this.date<this.o.startDate?(this.viewDate=new Date(this.o.startDate),this.date=new Date(this.o.startDate)):this.date>this.o.endDate?(this.viewDate=new Date(this.o.endDate),this.date=new Date(this.o.endDate)):this.viewDate=new Date(this.date),this.fillDate(),this.fillTime()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fillDate(),this.fillTime()},getClassNames:function(e){var i=[],a=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),n=this.date,r=new Date;return e.getUTCFullYear()<a||e.getUTCFullYear()==a&&e.getUTCMonth()<s?i.push("old"):(e.getUTCFullYear()>a||e.getUTCFullYear()==a&&e.getUTCMonth()>s)&&i.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==r.getFullYear()&&e.getUTCMonth()==r.getMonth()&&e.getUTCDate()==r.getDate()&&i.push("today"),n&&e.getUTCFullYear()==n.getUTCFullYear()&&e.getUTCMonth()==n.getUTCMonth()&&e.getUTCDate()==n.getUTCDate()&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fillDate:function(){var i,a=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),n="object"==typeof this.o.startDate?this.o.startDate.getUTCFullYear():-1/0,r="object"==typeof this.o.startDate?this.o.startDate.getUTCMonth():-1,o="object"==typeof this.o.endDate?this.o.endDate.getUTCFullYear():1/0,h="object"==typeof this.o.endDate?this.o.endDate.getUTCMonth():12;this.picker.find(".datepicker-days").find(".disabled").removeClass("disabled"),this.picker.find(".datepicker-months").find(".disabled").removeClass("disabled"),this.picker.find(".datepicker-years").find(".disabled").removeClass("disabled"),this.picker.find(".datepicker-days th.datepicker-switch").text(p[this.o.language].months[s]+" "+a),this.picker.find("tfoot th.today").text(p[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(p[this.o.language].clear).toggle(this.o.clearBtn!==!1);var d=e(a,s-1,28,0,0,0,0),c=k.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(c),d.setUTCDate(c-(d.getUTCDay()-this.o.weekStart+7)%7),(a==n&&r>=s||n>a)&&this.picker.find(".datepicker-days th:eq(0)").addClass("disabled"),(a==o&&s>=h||a>o)&&this.picker.find(".datepicker-days th:eq(2)").addClass("disabled");var l=new Date(d.valueOf());l.setUTCDate(l.getUTCDate()+42),l=l.valueOf();for(var u,f=[];d.valueOf()<l;){if(d.getUTCDay()===this.o.weekStart&&(f.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+d+864e5*((this.o.weekStart-d.getUTCDay()-7)%7)),g=new Date(+v+864e5*((11-v.getUTCDay())%7)),m=new Date(+(m=e(g.getUTCFullYear(),0,1))+864e5*((11-m.getUTCDay())%7)),y=(g-m)/864e5/7+1;f.push('<td class="cw">'+y+"</td>")}u=this.getClassNames(d),u.push("day");var D=this.o.beforeShowDay(d);void 0===D?D={}:"boolean"==typeof D?D={enabled:D}:"string"==typeof D&&(D={classes:D}),D.enabled===!1&&u.push("disabled"),D.classes&&(u=u.concat(D.classes.split(/\s+/))),D.tooltip&&(i=D.tooltip),u=t.unique(u),f.push('<td class="'+u.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()==this.o.weekEnd&&f.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(f.join(""));var w=this.date.getUTCFullYear(),T=this.picker.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");w===a&&T.eq(this.date.getUTCMonth()).addClass("active"),n>w-1&&this.picker.find(".datepicker-months th:eq(0)").addClass("disabled"),w+1>o&&this.picker.find(".datepicker-months th:eq(2)").addClass("disabled");for(var C=0;12>C;C++)a==n&&r>C||n>a?t(T[C]).addClass("disabled"):(a==o&&C>h||a>o)&&t(T[C]).addClass("disabled");f="",a=10*parseInt(a/10,10);var b=this.picker.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");this.picker.find(".datepicker-years").find("th").removeClass("disabled"),n>a&&this.picker.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),a+9>o&&this.picker.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),a-=1;for(var C=-1;11>C;C++)f+='<span class="year'+(-1===C||10===C?" old":"")+(w===a?" active":"")+(n>a||a>o?" disabled":"")+'">'+a+"</span>",a+=1;b.html(f)},fillHours:function(){var t=this.picker.find(".timepicker .timepicker-hours table");t.parent().hide();var e="";if(this.o.pick12HourFormat)for(var i=1,a=0;3>a;a+=1){e+="<tr>";for(var s=0;4>s;s+=1){var n=i.toString();e+='<td class="hour">'+o(n,2,"0")+"</td>",i++}e+="</tr>"}else for(var i=0,a=0;6>a;a+=1){e+="<tr>";for(var s=0;4>s;s+=1){var n=i.toString();e+='<td class="hour">'+o(n,2,"0")+"</td>",i++}e+="</tr>"}t.html(e)},fillMinutes:function(){var t=this.picker.find(".timepicker .timepicker-minutes table");t.parent().hide();for(var e="",i=0,a=0;3>a;a++){e+="<tr>";for(var s=0;4>s;s+=1){var n=i.toString();e+='<td class="minute">'+o(n,2,"0")+"</td>",i+=5}e+="</tr>"}t.html(e)},fillSeconds:function(){var t=this.picker.find(".timepicker .timepicker-seconds table");t.parent().hide();for(var e="",i=0,a=0;3>a;a++){e+="<tr>";for(var s=0;4>s;s+=1){var n=i.toString();e+='<td class="second">'+o(n,2,"0")+"</td>",i+=5}e+="</tr>"}t.html(e)},fillTime:function(){if(this.date){var e=this.picker.find(".timepicker span[data-time-component]"),i=this.o.pick12HourFormat,a=this.date.getUTCHours(),s="AM";i&&(a>=12&&(s="PM"),0===a?a=12:12!=a&&(a%=12),this.picker.find(".timepicker [data-action=togglePeriod]").text(s)),a=o(a.toString(),2,"0");var n=o(this.date.getUTCMinutes().toString(),2,"0"),r=o(this.date.getUTCSeconds().toString(),2,"0");e.filter("[data-time-component=hours]").text(a),e.filter("[data-time-component=minutes]").text(n),e.filter("[data-time-component=seconds]").text(r);var h=this.picker.find(".timepicker-picker > table");null==h.data("selectionIndex")&&h.data("selectionIndex",0),h.data("keydown",function(i){if(this.o.keyboardNavigation){var a,s,n,r=!1;switch(i.keyCode){case 13:this.o.pickDate?this.togglePicker(i):this.hide(),i.preventDefault();break;case 27:case 9:this.hide(),9!=i.keyCode&&i.preventDefault();break;case 37:case 39:a=37==i.keyCode?-1:1;var o=h.data("selectionIndex");o=(o+a+e.length)%e.length,e.removeClass("focused"),t(e[o]).addClass("focused"),h.data("selectionIndex",o),i.preventDefault();break;case 38:case 40:switch(a=38==i.keyCode?1:-1,h.data("selectionIndex")){case 0:s=this.moveHour(this.date,a),n=this.moveHour(this.viewDate,a);break;case 1:s=this.moveMinutes(this.date,a),n=this.moveMinutes(this.viewDate,a);break;case 2:s=this.moveSeconds(this.date,a),n=this.moveSeconds(this.viewDate,a)}i.preventDefault();break;case 77:s=this.switchMeridian(this.date),viewDate=this.switchMeridian(this.viewDate),i.preventDefault()}return this.dateWithinRange(s)&&(this.date=s,this.viewDate=n,this.setValue(),this.update(),i.preventDefault(),r=!0),r}})}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){i.preventDefault();var s=t(i.target).closest("span, td, th");if(1==s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var n=k.modes[this.viewMode].navStep*("prev"==s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,n);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,n)}this.fillDate(),this.fillTime(),this.updateNavArrows();break;case"today":this.showMode(-2);var r="linked"==this.o.todayBtn?null:"view";this._setDate(a(),r);break;case"clear":this.isInput?this.element.val(""):this.element.find("input").val(""),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!s.is(".disabled")){if(this.viewDate.setUTCDate(1),s.is(".month")){var o=1,h=s.parent().find("span").index(s),d=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(h),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(d,h,o,0,0,0,0))}else{var d=parseInt(s.text(),10)||0,o=1,h=0;this.viewDate.setUTCFullYear(d),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(d,h,o,0,0,0,0))}this.showMode(-1),this.fillDate(),this.fillTime()}break;case"td":if(s.is(".day")&&!s.is(".disabled")){var o=parseInt(s.text(),10)||1,d=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth();s.is(".old")?0===h?(h=11,d-=1):h-=1:s.is(".new")&&(11==h?(h=0,d+=1):h+=1),this._setDate(e(d,h,o,0,0,0,0)),this.o.pickTime||this.hide()}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fillDate(),this.fillTime(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.o.autoclose||e&&"date"!=e||this.o.pickTime||this.hide())},switchMeridian:function(t){var e=new Date(t);return e.setUTCHours((t.getUTCHours()+12)%24),e},moveHour:function(t,e){var i=new Date(t);return i.setUTCHours((t.getUTCHours()+48+e)%24),i},moveMinutes:function(t,e){var i=new Date(t);return i.setUTCMinutes((t.getUTCMinutes()+120+e)%60),i},moveSeconds:function(t,e){var i=new Date(t);return i.setUTCSeconds((t.getUTCSeconds()+120+e)%60),i},moveMonth:function(t,e){if(!e)return t;var i,a,s=new Date(t.valueOf()),n=s.getUTCDate(),r=s.getUTCMonth(),o=Math.abs(e);if(e=e>0?1:-1,1==o)a=-1==e?function(){return s.getUTCMonth()==r}:function(){return s.getUTCMonth()!=i},i=r+e,s.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var h=0;o>h;h++)s=this.moveMonth(s,e);i=s.getUTCMonth(),s.setUTCDate(n),a=function(){return i!=s.getUTCMonth()}}for(;a();)s.setUTCDate(--n),s.setUTCMonth(i);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},actions:{incrementHours:function(){this.date.setUTCHours(this.date.getUTCHours()+1)},incrementMinutes:function(){this.date.setUTCMinutes(this.date.getUTCMinutes()+1)},incrementSeconds:function(){this.date.setUTCSeconds(this.date.getUTCSeconds()+1)},decrementHours:function(){this.date.setUTCHours(this.date.getUTCHours()-1)},decrementMinutes:function(){this.date.setUTCMinutes(this.date.getUTCMinutes()-1)},decrementSeconds:function(){this.date.setUTCSeconds(this.date.getUTCSeconds()-1)},togglePeriod:function(){var t=this.date.getUTCHours();t>=12?t-=12:t+=12,this.date.setUTCHours(t)},showPicker:function(){this.picker.find(".timepicker > div:not(.timepicker-picker)").hide(),this.picker.find(".timepicker .timepicker-picker").show()},showHours:function(){this.picker.find(".timepicker .timepicker-picker").hide(),this.picker.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.picker.find(".timepicker .timepicker-picker").hide(),this.picker.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.picker.find(".timepicker .timepicker-picker").hide(),this.picker.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var i=t(e.target),a=parseInt(i.text(),10);if(this.o.pick12HourFormat){var s=this.date.getUTCHours();s>=12?12!=a&&(a=(a+12)%24):12===a?a=0:a%=12}this.date.setUTCHours(a),this.actions.showPicker.call(this)},selectMinute:function(e){var i=t(e.target),a=parseInt(i.text(),10);this.date.setUTCMinutes(a),this.actions.showPicker.call(this)},selectSecond:function(e){var i=t(e.target),a=parseInt(i.text(),10);this.date.setUTCSeconds(a),this.actions.showPicker.call(this)}},doAction:function(i){i.stopPropagation(),i.preventDefault(),this.date||(this.date=e(1970,0,0,0,0,0,0));var a=t(i.currentTarget).data("action"),s=this.actions[a].apply(this,arguments);return this.setValue(),this.fillTime(),this._trigger("changeDate"),s},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return 27==t.keyCode&&this.show(),void 0;var e,i,a,s=!1,n=this.picker.find("> ul > li.active div:visible > table, > div.active > div:visible > table").data("keydown");if(n)s=n.call(this,t);else{switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),a=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),a=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+e),a=new Date(this.viewDate),a.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=a,this.setValue(),this.update(),t.preventDefault(),s=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),a=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),a=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*e),a=new Date(this.viewDate),a.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=a,this.setValue(),this.update(),t.preventDefault(),s=!0);break;case 13:this.o.pickTime?this.togglePicker(t):this.hide(),t.preventDefault();break;case 9:this.hide()}this.updateNavArrows()}if(s){this._trigger("changeDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(".datepicker > div").hide().filter(".datepicker-"+k.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},formatDate:function(t,e){return this.o.format.replace(m,function(i){var a,s,n,r,h=i.length;return"ms"===i&&(h=1),n=u[i].property,s=u[i].getValue,void 0!=s?s(t,e):(a="get"+n,r=t[a](),"getUTCMonth"===a&&(r+=1),o(r.toString(),h,"0"))})},parseDate:function(t){if(t instanceof Date)return t;var i,a,s,n,r={};if(!(i=this._formatPattern.exec(t))){if(/^[\-+]\d+[dmMhswy]([\s,]+[\-+]\d+[dmMhswy])*$/.test(t)){for(var o,h,c=/([\-+]\d+)([dmMhswy])/,l=t.match(/([\-+]\d+)([dmMhswy])/g),p=new Date,a=0;a<l.length;a++)switch(o=c.exec(l[a]),h=parseInt(o[1]),o[2]){case"d":p.setUTCDate(p.getUTCDate()+h);break;case"M":p=d.prototype.moveMonth.call(d.prototype,p,h);break;case"w":p.setUTCDate(p.getUTCDate()+7*h);break;case"y":p=d.prototype.moveYear.call(d.prototype,p,h);break;case"h":p=d.prototype.moveHour.call(d.prototype,p,h);break;case"m":p=d.prototype.moveMinutes.call(d.prototype,p,h);break;case"s":p=d.prototype.moveSeconds.call(d.prototype,p,h)}return this.o.pickTime?e(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate(),p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds()):e(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate(),0,0,0)}return null}for(a=1;a<i.length;a++)s=this._propertiesByIndex[a],s&&(n=i[a],u[s].parseValue?n=u[s].parseValue(n,this.o.language):/^\d+$/.test(n)&&(n=parseInt(n,10)),r[u[s].property]=n);return this._finishParsingDate(r)},_finishParsingDate:function(t){var i,a,s,n,r,o,h;return i=t.UTCFullYear,i||(i=1970),a=t.UTCMonth||0,s=t.UTCDate||1,n=t.UTCHours||0,t.Period&&(n%=12,"PM"==t.Period&&(n+=12)),r=t.UTCMinutes||0,o=t.UTCSeconds||0,h=t.UTCMilliseconds||0,e(i,a,s,n,r,o,h)},_compileFormat:function(){for(var t,e,i=[],a=[],s=this.o.format,n={},o=0,h=0;t=g.exec(s);)e=t[0],e in u?(o++,n[o]=e,i.push("\\s*"+u[e].getPattern(this)+"\\s*"),a.push({pattern:new RegExp(u[e].getPattern(this)),property:u[e].property,start:h,end:h+=e.length})):(i.push(r(e)),a.push({pattern:new RegExp(r(e)),character:e,start:h,end:++h})),s=s.slice(e.length);this._mask=a,this._maskPos=0,this._formatPattern=new RegExp("^\\s*"+i.join("")+"\\s*$"),this._propertiesByIndex=n}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){var i=t(e.target).data("datepicker"),a=i.getUTCDate(),s=t.inArray(e.target,this.inputs),n=this.inputs.length;if(-1!=s){if(a<this.dates[s])for(;s>=0&&a<this.dates[s];)this.pickers[s--].setUTCDate(a);else if(a>this.dates[s])for(;n>s&&a>this.dates[s];)this.pickers[s++].setUTCDate(a);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var l=t.fn.datepicker;t.fn.datepicker=function(e){var i=Array.apply(null,arguments);i.shift();var a;return this.each(function(){var r=t(this),o=r.data("datepicker"),h="object"==typeof e&&e;if(!o){var l=s(this,"date"),p=t.extend({},t.fn.datepicker.defaults,l,h),u=n(p.language),f=t.extend({},t.fn.datepicker.defaults,u,l,h);if(r.is(".input-daterange")||f.inputs){var v={inputs:f.inputs||r.find("input").toArray()};r.data("datepicker",o=new c(this,t.extend(f,v)))}else r.data("datepicker",o=new d(this,f))}return"string"==typeof e&&"function"==typeof o[e]&&(a=o[e].apply(o,i),void 0!==a)?!1:void 0}),void 0!==a?a:this},t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,collapse:!0,pickDate:!0,pickTime:!0,pick12HourFormat:!1,pickSeconds:!0},t.fn.datepicker.locale_opts=["format","rtl","weekStart"],t.fn.datepicker.Constructor=d;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"],today:"Today",clear:"Clear"}},u={d:{property:"UTCDate",getPattern:function(){return"([1-9]|[1-2][0-9]|3[0-1])\\b"}},dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},ddd:{property:"UTCDayShort",getPattern:function(t){return"("+p[t.o.language].daysShort.join("|")+")\\b"},getValue:function(t,e){return p[e].daysShort[t.getUTCDay()]},parseValue:function(t,e){return p[e].daysShort.indexOf(t)}},dddd:{property:"UTCDayLong",getPattern:function(t){return"("+p[t.o.language].days.join("|")+")\\b"},getValue:function(t,e){return p[e].days[t.getUTCDay()]},parseValue:function(t,e){return p[e].days.indexOf(t)}},yy:{property:"UTCFullYear",getPattern:function(){return"(\\d{2})\\b"},getValue:function(t){return t.getUTCFullYear()%100},parseValue:function(t){return 2e3+parseInt(t,10)}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},H:{property:"UTCHours",getPattern:function(){return"([0-9]|1[0-9]|2[0-3])\\b"}},HH:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},h:{property:"UTCHours",getPattern:function(){return"([0-9]|1[0-2])\\b"},getValue:function(t){var e=t.getUTCHours();return 0===e||12===e?12:e%12}},hh:{property:"UTCHours",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"},getValue:function(t){var e=t.getUTCHours();return 0===e||12===e?"12":o((e%12).toString(),2,"0")}},m:{property:"UTCMinutes",getPattern:function(){return"([0-9]|[1-5][0-9])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},M:{property:"UTCMonth",getPattern:function(){return"([1-9]|1[0-2])\\b"},parseValue:function(t){return parseInt(t,10)-1}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"},parseValue:function(t){return parseInt(t,10)-1}},MMM:{property:"UTCMonth",getPattern:function(t){return"("+p[t.o.language].monthsShort.join("|")+")\\b"},getValue:function(t,e){return p[e].monthsShort[t.getUTCMonth()]},parseValue:function(t,e){return p[e].monthsShort.indexOf(t)}},MMMM:{property:"UTCMonth",getPattern:function(t){return"("+p[t.o.language].months.join("|")+")\\b"},getValue:function(t,e){return p[e].months[t.getUTCMonth()]},parseValue:function(t,e){return p[e].months.indexOf(t)}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},t:{property:"Period",getPattern:function(t){var e=[];for(i=0;i<p[t.o.language].meridian.length;i++)e.push(p[t.o.language].meridian[i].charAt(0));return"("+e.join("|")+")\\b"},getValue:function(t,e){var i=t.getUTCHours();return p[e].meridian[i>=12?1:0].charAt(0)}},tt:{property:"Period",getPattern:function(t){return"("+p[t.o.language].meridian.join("|")+")\\b"},getValue:function(t,e){var i=t.getUTCHours();return p[e].meridian[i>=12?1:0]}}},f=[];for(var v in u)f.push(v);f[f.length-1]+="\\b",f.push(".");var g=new RegExp(f.join("\\b|"));f.pop();var m=new RegExp(f.join("\\b|"),"g"),k={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,k.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);
if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};k.template='<div class="datepicker-days"><table class=" table-condensed">'+k.headTemplate+"<tbody></tbody>"+k.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+k.headTemplate+k.contTemplate+k.footTemplate+"</table>"+"</div>";var y={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>'};y.getTemplate=function(t,e){return'<div class="timepicker-picker"><table class="table-condensed"'+(t?' data-hour-format="12"':"")+">"+"<tr>"+'<td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(e?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(t?'<td class="separator"></td>':"")+"</tr>"+"<tr>"+"<td>"+y.hourTemplate+"</td> "+'<td class="separator">:</td>'+"<td>"+y.minuteTemplate+"</td> "+(e?'<td class="separator">:</td><td>'+y.secondTemplate+"</td>":"")+(t?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+"</tr>"+"<tr>"+'<td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(e?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(t?'<td class="separator"></td>':"")+"</tr>"+"</table>"+"</div>"+'<div class="timepicker-hours" data-action="selectHour">'+'<table class="table-condensed">'+"</table>"+"</div>"+'<div class="timepicker-minutes" data-action="selectMinute">'+'<table class="table-condensed">'+"</table>"+"</div>"+(e?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")},t.fn.datepicker.DPGlobal=k,t.fn.datepicker.TPGlobal=y,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=l,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery);